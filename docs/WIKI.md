# üìö –¢–µ—Ö–Ω–∏—á–µ—Å–∫–∞—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è (Wiki)

–ó–¥–µ—Å—å –æ–ø–∏—Å–∞–Ω–æ, –∫–∞–∫ –∏–º–µ–Ω–Ω–æ —Ä–∞–±–æ—Ç–∞–µ—Ç `xbox-dns-manager`, –∫–∞–∫–∏–µ –∫–æ–º–∞–Ω–¥—ã –∏—Å–ø–æ–ª—å–∑—É—é—Ç—Å—è –∏ –∫–∞–∫ –¥–∏–∞–≥–Ω–æ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å –ø—Ä–æ–±–ª–µ–º—ã.

## –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ —Ä–µ—à–µ–Ω–∏—è

–°–∫—Ä–∏–ø—Ç –≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤—É–µ—Ç –Ω–∞–ø—Ä—è–º—É—é —Å **NetworkManager** —á–µ—Ä–µ–∑ —É—Ç–∏–ª–∏—Ç—É –∫–æ–º–∞–Ω–¥–Ω–æ–π —Å—Ç—Ä–æ–∫–∏ `nmcli`. –≠—Ç–æ —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—ã–π —Å–µ—Ç–µ–≤–æ–π –º–µ–Ω–µ–¥–∂–µ—Ä –¥–ª—è –±–æ–ª—å—à–∏–Ω—Å—Ç–≤–∞ –¥–∏—Å—Ç—Ä–∏–±—É—Ç–∏–≤–æ–≤ Linux (Ubuntu, Fedora, Arch, Debian).

### –õ–æ–≥–∏–∫–∞ —Ä–∞–±–æ—Ç—ã "ON" (–í–∫–ª—é—á–µ–Ω–∏–µ)
–ü—Ä–∏ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–∏ –∫–æ–º–∞–Ω–¥—ã `don` —Å–∫—Ä–∏–ø—Ç –¥–µ–ª–∞–µ—Ç —Å–ª–µ–¥—É—é—â–µ–µ:
1.  **–û–ø—Ä–µ–¥–µ–ª—è–µ—Ç –∞–∫—Ç–∏–≤–Ω–æ–µ —Å–æ–µ–¥–∏–Ω–µ–Ω–∏–µ:** –ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –ø–µ—Ä–µ–º–µ–Ω–Ω–∞—è `$CONN_NAME` (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é `errorr` –∏–ª–∏ –∞–≤—Ç–æ–æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ).
2.  **–£—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ—Ç DNS:**
    ```bash
    nmcli connection modify "ConnectionName" ipv4.dns "176.99.11.77 80.78.247.254"
    ```
3.  **–ë–ª–æ–∫–∏—Ä—É–µ—Ç DHCP-DNS:**
    ```bash
    nmcli connection modify "ConnectionName" ipv4.ignore-auto-dns yes
    ```
    *–≠—Ç–æ –∫—Ä–∏—Ç–∏—á–µ—Å–∫–∏ –≤–∞–∂–Ω–æ, –∏–Ω–∞—á–µ —Å–∏—Å—Ç–µ–º–∞ –º–æ–∂–µ—Ç –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å DNS –ø—Ä–æ–≤–∞–π–¥–µ—Ä–∞ –ø–∞—Ä–∞–ª–ª–µ–ª—å–Ω–æ —Å –Ω–∞—à–∏–º–∏.*
4.  **–ü—Ä–∏–º–µ–Ω—è–µ—Ç –∏–∑–º–µ–Ω–µ–Ω–∏—è:** –ü–µ—Ä–µ–ø–æ–¥–Ω–∏–º–∞–µ—Ç —Å–æ–µ–¥–∏–Ω–µ–Ω–∏–µ (`nmcli connection up`).

### –õ–æ–≥–∏–∫–∞ —Ä–∞–±–æ—Ç—ã "OFF" (–í—ã–∫–ª—é—á–µ–Ω–∏–µ)
–ü—Ä–∏ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–∏ `dof`:
1.  –û—á–∏—â–∞–µ—Ç –ø–æ–ª–µ `ipv4.dns`.
2.  –£—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ—Ç `ipv4.ignore-auto-dns` –≤ `no`.
3.  –ü–µ—Ä–µ–ø–æ–¥–Ω–∏–º–∞–µ—Ç —Å–æ–µ–¥–∏–Ω–µ–Ω–∏–µ.

## –î–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∞ –ø—Ä–æ–±–ª–µ–º (Troubleshooting)

### –ö–∞–∫ –ø—Ä–æ–≤–µ—Ä–∏—Ç—å —Ç–µ–∫—É—â–∏–π DNS?
–ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ –æ–¥–Ω—É –∏–∑ –∫–æ–º–∞–Ω–¥:
```bash
resolvectl status
# –∏–ª–∏
nmcli dev show | grep DNS
```
–ï—Å–ª–∏ –≤—ã –≤–∏–¥–∏—Ç–µ `176.99.11.77` ‚Äî —Å–∫—Ä–∏–ø—Ç —Å—Ä–∞–±–æ—Ç–∞–ª —É—Å–ø–µ—à–Ω–æ.

### –°–∫—Ä–∏–ø—Ç –Ω–µ –Ω–∞—Ö–æ–¥–∏—Ç —Å–æ–µ–¥–∏–Ω–µ–Ω–∏–µ
–û—Ç–∫—Ä–æ–π—Ç–µ `~/dns_manager.sh` –∏ –ø—Ä–æ–≤–µ—Ä—å—Ç–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—É—é `CONN_NAME`.
–£–∑–Ω–∞—Ç—å –∏–º—è —Å–≤–æ–µ–≥–æ —Å–æ–µ–¥–∏–Ω–µ–Ω–∏—è:
```bash
nmcli connection show --active
```

## –†—É—á–Ω–∞—è –Ω–∞—Å—Ç—Ä–æ–π–∫–∞ (Manual Config)
–ï—Å–ª–∏ —Å–∫—Ä–∏–ø—Ç –Ω–µ–¥–æ—Å—Ç—É–ø–µ–Ω, –≤—ã –º–æ–∂–µ—Ç–µ –≤—ã–ø–æ–ª–Ω–∏—Ç—å –¥–µ–π—Å—Ç–≤–∏—è –≤—Ä—É—á–Ω—É—é:

**–í–∫–ª—é—á–∏—Ç—å:**
```bash
nmcli con mod "YourWifi" ipv4.dns "176.99.11.77 80.78.247.254"
nmcli con mod "YourWifi" ipv4.ignore-auto-dns yes
nmcli con up "YourWifi"
```

**–í—ã–∫–ª—é—á–∏—Ç—å:**
```bash
nmcli con mod "YourWifi" ipv4.dns ""
nmcli con mod "YourWifi" ipv4.ignore-auto-dns no
nmcli con up "YourWifi"
```
